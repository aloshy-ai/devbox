{
  "name": "aloshy.ðŸ…°ðŸ…¸ | NixContainer",
  "init": true,
  "privileged": false,
  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",
  "remoteUser": "vscode",
  "updateRemoteUserUID": true,
  "onCreateCommand": {
    "nix-setup": "echo 'experimental-features = nix-command flakes' >> /etc/nix/nix.conf",
    "git-config": "git config --global core.editor 'code --wait'"
  },
  "postCreateCommand": {
    "permissions": "chown -R vscode:vscode /workspace",
    "home-manager": "nix run home-manager/master -- switch"
  },
  "image": "ghcr.io/aloshy-ai/nixcontainer",
  "customizations": {
    "vscode": {
      "settings": {
        "editor.fontFamily": "'JetBrainsMono Nerd Font Mono', 'Droid Sans Mono', 'monospace', monospace",
        "editor.fontLigatures": true,
        "editor.fontSize": 14,
        "editor.minimap.enabled": false,
        "editor.stickyScroll.enabled": false,
        "editor.formatOnSave": true,
        "editor.formatOnPaste": true,
        "files.autoSave": "afterDelay",
        "terminal.integrated.fontLigatures.enabled": true,
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "/bin/bash"
          }
        },
        "workbench.colorTheme": "GitHub Dark",
        "workbench.activityBar.location": "default",
        "workbench.activityBar.orientation": "vertical",
        "git.confirmSync": false,
        "git.autofetch": true,
        "nix.enableLanguageServer": true,
        "nix.serverPath": "nil",
        "nix.serverSettings": {
          "nil": {
            "formatting": {
              "command": ["alejandra"]
            }
          }
        }
      },
      "extensions": [
        "zongou.vs-seti-jetbrainsmononerdfontmono",
        "SanjulaGanepola.github-local-actions",
        "ms-vscode-remote.remote-containers",
        "gitHub.vscode-pull-request-github",
        "github.vscode-github-actions",
        "fuadpashayev.bottom-terminal",
        "ms-azuretools.vscode-docker",
        "github.github-vscode-theme",
        "esbenp.prettier-vscode",
        "kamadorueda.alejandra",
        "fsevenm.run-it-on",
        "jetpack-io.devbox",
        "github.codespaces",
        "github.remotehub",
        "github.copilot",
        "bbenoist.Nix",
        "mkhl.direnv",
        "eamodio.gitlens",
        "yzhang.markdown-all-in-one",
        "jnoortheen.nix-ide"
      ]
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
    "ghcr.io/devcontainers-extra/features/vscode-server:1": {},
    "ghcr.io/devcontainers/features/nix:1": {
      "extraNixConfig": "experimental-features = nix-command flakes\nsubstituters = https://cache.nixos.org\ntrusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY=",
      "packages": "direnv devbox"
    },
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest",
      "ppa": false
    },
    "ghcr.io/devcontainers/features/github-cli:1": {},
    "ghcr.io/devcontainers-contrib/features/direnv:1": {}
  },
  "remoteEnv": {
    "EDITOR": "code --wait",
    "VISUAL": "code --wait",
    "SHELL": "/bin/bash",
    "LANG": "en_US.UTF-8",
    "NIX_PATH": "/nix/var/nix/profiles/per-user/vscode/channels"
  },
  "mounts": [
    "source=nix-store,target=/nix/store,type=volume",
    "source=nix-db,target=/nix/var/nix/db,type=volume",
    "source=vscode-extensions,target=/home/vscode/.vscode-server/extensions,type=volume"
  ],
  "runArgs": [
    "--network=host",
    "--security-opt=seccomp=unconfined"
  ],
  "postStartCommand": "direnv allow > /dev/null 2>&1 || true",
  "postAttachCommand": {
    "direnv-reload": "direnv reload > /dev/null 2>&1 || true",
    "git-setup": "git config --global core.editor 'code --wait'"
  },
  "waitFor": "postCreateCommand"
}
